{% extends "base.html" %}

{% block title %}学习总结 - LearnThai{% endblock %}

{% block content %}
<div class="summary-container">
    <h1>学习总结</h1>

    {% if session_completed > 0 %}
    <div class="session-stats">
        <h2>本次学习</h2>
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-value">{{ session_completed }}</div>
                <div class="stat-label">学习词汇</div>
            </div>

            <div class="stat-card">
                <div class="stat-value">{{ session_familiar }}</div>
                <div class="stat-label">熟悉词汇</div>
            </div>

            <div class="stat-card">
                <div class="stat-value">{{ mastery_percent }}%</div>
                <div class="stat-label">掌握率</div>
            </div>
        </div>
    </div>
    {% else %}
    <div class="empty-session">
        <p>暂无学习记录</p>
    </div>
    {% endif %}

    <div class="overall-stats">
        <h2>总体进度</h2>
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-value">{{ total_learned }}</div>
                <div class="stat-label">已学习词汇</div>
            </div>

            <div class="stat-card">
                <div class="stat-value">{{ total_mastered }}</div>
                <div class="stat-label">已掌握词汇</div>
            </div>
        </div>
    </div>

    <div class="action-buttons">
        <a href="{{ url_for('learning.start') }}" class="btn btn-primary btn-large">继续学习</a>
        <a href="{{ url_for('index') }}" class="btn btn-secondary btn-large">返回首页</a>
    </div>
</div>

<style>
.summary-container {
    max-width: 800px;
    margin: 0 auto;
    padding: 40px 20px;
}

.summary-container h1 {
    text-align: center;
    margin-bottom: 40px;
    color: #333;
}

.summary-container h2 {
    margin-bottom: 20px;
    color: #555;
    font-size: 18px;
}

.session-stats,
.overall-stats {
    background: white;
    border-radius: 16px;
    padding: 30px;
    margin-bottom: 30px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.08);
}

.stats-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    gap: 20px;
}

.stat-card {
    text-align: center;
    padding: 20px;
    background: #f5f5f5;
    border-radius: 12px;
}

.stat-value {
    font-size: 36px;
    font-weight: bold;
    color: #2196F3;
    margin-bottom: 8px;
}

.stat-label {
    font-size: 14px;
    color: #666;
}

.empty-session {
    text-align: center;
    padding: 40px;
    color: #999;
}

.action-buttons {
    display: flex;
    gap: 20px;
    justify-content: center;
    margin-top: 40px;
}

.btn {
    display: inline-block;
    padding: 12px 30px;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    text-decoration: none;
    font-size: 16px;
    transition: all 0.2s;
    text-align: center;
}

.btn-large {
    padding: 15px 40px;
    font-size: 18px;
}

.btn-primary {
    background: #2196F3;
    color: white;
}

.btn-primary:hover {
    background: #1976D2;
}

.btn-secondary {
    background: #e0e0e0;
    color: #333;
}

.btn-secondary:hover {
    background: #bdbdbd;
}

@media (max-width: 600px) {
    .action-buttons {
        flex-direction: column;
    }

    .stats-grid {
        grid-template-columns: 1fr 1fr;
    }
}
</style>
{% endblock %}
