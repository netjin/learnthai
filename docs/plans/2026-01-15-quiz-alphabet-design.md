# é€‰æ‹©é¢˜æ¨¡å¼ + æ³°è¯­å­—æ¯å­¦ä¹ è®¾è®¡æ–‡æ¡£

## æ¦‚è¿°

æœ¬æ–‡æ¡£æè¿°ä¸¤ä¸ªæ–°åŠŸèƒ½çš„è®¾è®¡ï¼š
1. **é€‰æ‹©é¢˜æ¨¡å¼**ï¼šæ–°å¢è¯æ±‡å­¦ä¹ é¢˜å‹
2. **æ³°è¯­å­—æ¯å­¦ä¹ **ï¼šç‹¬ç«‹çš„è¾…éŸ³å’Œå…ƒéŸ³å­¦ä¹ æ¨¡å—

## ä¸€ã€é€‰æ‹©é¢˜æ¨¡å¼

### åŠŸèƒ½æè¿°

- æ˜¾ç¤ºæ³°è¯­å•è¯ + 4ä¸ªä¸­æ–‡é€‰é¡¹
- ä»åŒåˆ†ç±»è¯æ±‡ä¸­éšæœºæŠ½å–3ä¸ªå¹²æ‰°é¡¹
- ç‚¹å‡»é€‰æ‹©åç«‹å³åé¦ˆå¯¹é”™
- ç­”å¯¹ï¼šç†Ÿæ‚‰åº¦+1ï¼Œç­”é”™ï¼šç†Ÿæ‚‰åº¦é‡ç½®ä¸º1

### ç•Œé¢å¸ƒå±€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   [ğŸ”Š] à¸ªà¸§à¸±à¸ªà¸”à¸µ           â”‚
â”‚   (sa-wat-dee)          â”‚
â”‚                         â”‚
â”‚   A. å†è§               â”‚
â”‚   B. ä½ å¥½  âœ“            â”‚
â”‚   C. è°¢è°¢               â”‚
â”‚   D. å¯¹ä¸èµ·             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å¹²æ‰°é¡¹ç”Ÿæˆé€»è¾‘

```python
def generate_options(correct_vocab, all_vocab):
    """ç”Ÿæˆ4ä¸ªé€‰é¡¹ï¼ˆ1ä¸ªæ­£ç¡® + 3ä¸ªå¹²æ‰°é¡¹ï¼‰"""
    options = [correct_vocab]

    # ä¼˜å…ˆä»åŒåˆ†ç±»è¯æ±‡ä¸­æŠ½å–
    same_category = [v for v in all_vocab
                     if v.category == correct_vocab.category
                     and v.id != correct_vocab.id]

    if len(same_category) >= 3:
        distractors = random.sample(same_category, 3)
    else:
        # ä¸è¶³åˆ™ä»å…¶ä»–åˆ†ç±»è¡¥å……
        distractors = same_category
        other = [v for v in all_vocab
                 if v.category != correct_vocab.category
                 and v.id != correct_vocab.id]
        distractors += random.sample(other, 3 - len(distractors))

    options.extend(distractors)
    random.shuffle(options)
    return options
```

### è¯„åˆ†é€»è¾‘

```python
def update_score(user_vocab, is_correct):
    if is_correct:
        user_vocab.familiarity_level = min(user_vocab.familiarity_level + 1, 5)
        user_vocab.correct_count += 1
    else:
        user_vocab.familiarity_level = 1  # é‡ç½®

    user_vocab.review_count += 1
    user_vocab.next_review_date = calculate_next_review(...)
```

### è·¯ç”±è®¾è®¡

- `GET /learning/start?mode=multiple_choice` - å¼€å§‹é€‰æ‹©é¢˜å­¦ä¹ 
- `POST /learning/check-answer` - æ£€æŸ¥ç­”æ¡ˆï¼ˆAJAXï¼‰
- å¤ç”¨ç°æœ‰ SRS ç®—æ³•å’Œè¿›åº¦è¿½è¸ª

### é¡µé¢æ¨¡æ¿

æ–°å¢ `templates/learning/multiple_choice.html`

## äºŒã€æ³°è¯­å­—æ¯å­¦ä¹ æ¨¡å—

### æ•°æ®æ¨¡å‹

#### ThaiAlphabet æ¨¡å‹

```python
class ThaiAlphabet(db.Model):
    __tablename__ = 'thai_alphabets'

    id = db.Column(db.Integer, primary_key=True)
    character = db.Column(db.String(10), nullable=False)  # å­—æ¯ç¬¦å·
    name_thai = db.Column(db.String(50))                   # æ³°è¯­åç§°
    name_chinese = db.Column(db.String(50))                # ä¸­æ–‡åç§°
    pronunciation = db.Column(db.String(50))               # ç½—é©¬éŸ³
    sound = db.Column(db.String(20))                       # éŸ³å€¼
    alphabet_type = db.Column(db.String(20))               # consonant/vowel
    consonant_class = db.Column(db.String(10))             # high/mid/low
    example_word = db.Column(db.String(50))                # ç¤ºä¾‹è¯
    example_meaning = db.Column(db.String(50))             # ç¤ºä¾‹è¯ä¸­æ–‡
    audio_file = db.Column(db.String(200))                 # éŸ³é¢‘è·¯å¾„
    sort_order = db.Column(db.Integer, default=0)          # æ’åº
    is_active = db.Column(db.Boolean, default=True)
```

#### UserAlphabet æ¨¡å‹

```python
class UserAlphabet(db.Model):
    __tablename__ = 'user_alphabets'

    id = db.Column(db.Integer, primary_key=True)
    user_id = db.Column(db.Integer, db.ForeignKey('users.id'))
    alphabet_id = db.Column(db.Integer, db.ForeignKey('thai_alphabets.id'))
    familiarity_level = db.Column(db.Integer, default=0)
    review_count = db.Column(db.Integer, default=0)
    correct_count = db.Column(db.Integer, default=0)
    next_review_date = db.Column(db.DateTime)
    last_reviewed = db.Column(db.DateTime)
    created_at = db.Column(db.DateTime, default=datetime.utcnow)
```

### æ³°è¯­è¾…éŸ³æ•°æ®ï¼ˆ44ä¸ªï¼‰

| å­—æ¯ | åç§° | å‘éŸ³ | ç±»åˆ« | ç¤ºä¾‹ |
|------|------|------|------|------|
| à¸ | à¸ à¹„à¸à¹ˆ | ko kai | ä¸­è¾…éŸ³ | é¸¡ |
| à¸‚ | à¸‚ à¹„à¸‚à¹ˆ | kho khai | é«˜è¾…éŸ³ | è›‹ |
| à¸ƒ | à¸ƒ à¸‚à¸§à¸” | kho khuat | é«˜è¾…éŸ³ | ç“¶(åºŸå¼ƒ) |
| à¸„ | à¸„ à¸„à¸§à¸²à¸¢ | kho khwai | ä½è¾…éŸ³ | æ°´ç‰› |
| ... | ... | ... | ... | ... |

### æ³°è¯­å…ƒéŸ³æ•°æ®ï¼ˆ32ä¸ªï¼‰

| ç¬¦å· | åç§° | å‘éŸ³ | ç±»å‹ |
|------|------|------|------|
| à¸° | à¸ªà¸£à¸° à¸­à¸° | a | çŸ­å…ƒéŸ³ |
| à¸² | à¸ªà¸£à¸° à¸­à¸² | aa | é•¿å…ƒéŸ³ |
| à¸´ | à¸ªà¸£à¸° à¸­à¸´ | i | çŸ­å…ƒéŸ³ |
| à¸µ | à¸ªà¸£à¸° à¸­à¸µ | ii | é•¿å…ƒéŸ³ |
| ... | ... | ... | ... |

### è·¯ç”±è®¾è®¡

```python
alphabet_bp = Blueprint('alphabet', __name__, url_prefix='/alphabet')

@alphabet_bp.route('/')
def index():
    """å­—æ¯å­¦ä¹ é¦–é¡µ"""

@alphabet_bp.route('/consonants')
def consonants():
    """è¾…éŸ³åˆ—è¡¨"""

@alphabet_bp.route('/vowels')
def vowels():
    """å…ƒéŸ³åˆ—è¡¨"""

@alphabet_bp.route('/practice')
def practice():
    """å­—æ¯ç»ƒä¹ ï¼ˆé—ªå¡+é€‰æ‹©é¢˜ï¼‰"""

@alphabet_bp.route('/practice/start')
def practice_start():
    """å¼€å§‹ç»ƒä¹ """
```

### é¡µé¢è®¾è®¡

#### å­—æ¯æ€»è§ˆé¡µ `/alphabet/`

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         æ³°è¯­å­—æ¯å­¦ä¹                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚  è¾…éŸ³      â”‚  â”‚  å…ƒéŸ³      â”‚      â”‚
â”‚  â”‚  44ä¸ªå­—æ¯  â”‚  â”‚  32ä¸ªç¬¦å·  â”‚      â”‚
â”‚  â”‚  [å¼€å§‹å­¦ä¹ ]â”‚  â”‚  [å¼€å§‹å­¦ä¹ ]â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                     â”‚
â”‚  å­¦ä¹ è¿›åº¦                           â”‚
â”‚  è¾…éŸ³: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ 80% (35/44)       â”‚
â”‚  å…ƒéŸ³: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘ 60% (19/32)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### è¾…éŸ³/å…ƒéŸ³åˆ—è¡¨é¡µ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ³°è¯­è¾…éŸ³ (44ä¸ª)                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ä¸­è¾…éŸ³ (9ä¸ª)                       â”‚
â”‚  â”Œâ”€â”€â” â”Œâ”€â”€â” â”Œâ”€â”€â” â”Œâ”€â”€â” â”Œâ”€â”€â”         â”‚
â”‚  â”‚à¸ â”‚ â”‚à¸ˆ â”‚ â”‚à¸” â”‚ â”‚à¸• â”‚ â”‚à¸š â”‚ ...     â”‚
â”‚  â””â”€â”€â”˜ â””â”€â”€â”˜ â””â”€â”€â”˜ â””â”€â”€â”˜ â””â”€â”€â”˜         â”‚
â”‚                                     â”‚
â”‚  é«˜è¾…éŸ³ (11ä¸ª)                      â”‚
â”‚  â”Œâ”€â”€â” â”Œâ”€â”€â” â”Œâ”€â”€â” ...               â”‚
â”‚  â”‚à¸‚ â”‚ â”‚à¸‰ â”‚ â”‚à¸ â”‚                    â”‚
â”‚  â””â”€â”€â”˜ â””â”€â”€â”˜ â””â”€â”€â”˜                    â”‚
â”‚                                     â”‚
â”‚  ä½è¾…éŸ³ (24ä¸ª)                      â”‚
â”‚  ...                                â”‚
â”‚                                     â”‚
â”‚  [å¼€å§‹ç»ƒä¹ ]                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ç»ƒä¹ é¡µé¢

å¤ç”¨è¯æ±‡å­¦ä¹ çš„é—ªå¡å’Œé€‰æ‹©é¢˜é€»è¾‘ï¼Œä½†æ•°æ®æºæ”¹ä¸ºå­—æ¯è¡¨ã€‚

### å¯¼èˆªæ æ›´æ–°

åœ¨ `base.html` å¯¼èˆªæ æ·»åŠ ã€Œå­—æ¯å­¦ä¹ ã€å…¥å£ï¼š

```html
<nav>
    <a href="/">é¦–é¡µ</a>
    <a href="/learning/start">è¯æ±‡å­¦ä¹ </a>
    <a href="/alphabet/">å­—æ¯å­¦ä¹ </a>  <!-- æ–°å¢ -->
    <a href="/stats/">æˆ‘çš„è¿›åº¦</a>
</nav>
```

## ä¸‰ã€å®ç°è®¡åˆ’

### é˜¶æ®µä¸€ï¼šé€‰æ‹©é¢˜æ¨¡å¼
1. ä¿®æ”¹å­¦ä¹ è·¯ç”±æ”¯æŒ mode å‚æ•°
2. å®ç°å¹²æ‰°é¡¹ç”Ÿæˆé€»è¾‘
3. åˆ›å»ºé€‰æ‹©é¢˜é¡µé¢æ¨¡æ¿
4. æ·»åŠ ç­”æ¡ˆæ£€æŸ¥ API

### é˜¶æ®µäºŒï¼šå­—æ¯å­¦ä¹ æ¨¡å—
1. åˆ›å»º ThaiAlphabet å’Œ UserAlphabet æ¨¡å‹
2. å¯¼å…¥44ä¸ªè¾…éŸ³ + 32ä¸ªå…ƒéŸ³æ•°æ®
3. åˆ›å»ºå­—æ¯å­¦ä¹ è·¯ç”±å’Œé¡µé¢
4. å®ç°å­—æ¯é—ªå¡ç»ƒä¹ 
5. å®ç°å­—æ¯é€‰æ‹©é¢˜ç»ƒä¹ 
6. æ›´æ–°å¯¼èˆªæ 

## å››ã€æµ‹è¯•è¦ç‚¹

- [ ] é€‰æ‹©é¢˜å¹²æ‰°é¡¹ä¸é‡å¤
- [ ] é€‰æ‹©é¢˜ç­”æ¡ˆåˆ¤æ–­æ­£ç¡®
- [ ] å­—æ¯æ•°æ®å®Œæ•´ï¼ˆ44è¾…éŸ³+32å…ƒéŸ³ï¼‰
- [ ] å­—æ¯å­¦ä¹ è¿›åº¦æ­£ç¡®ä¿å­˜
- [ ] SRS ç®—æ³•åœ¨å­—æ¯å­¦ä¹ ä¸­æ­£å¸¸å·¥ä½œ

---

**æ–‡æ¡£ç‰ˆæœ¬**: 1.0
**åˆ›å»ºæ—¥æœŸ**: 2026-01-15
